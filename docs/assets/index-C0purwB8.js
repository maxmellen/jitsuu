var e=Object.create,t=Object.defineProperty,n=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,i=Object.getPrototypeOf,a=Object.prototype.hasOwnProperty,o=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),s=(e,i,o,s)=>{if(i&&typeof i==`object`||typeof i==`function`)for(var c=r(i),l=0,u=c.length,d;l<u;l++)d=c[l],!a.call(e,d)&&d!==o&&t(e,d,{get:(e=>i[e]).bind(null,d),enumerable:!(s=n(i,d))||s.enumerable});return e},c=(n,r,a)=>(a=n==null?{}:e(i(n)),s(r||!n||!n.__esModule?t(a,`default`,{value:n,enumerable:!0}):a,n));(function(){let e=document.createElement(`link`).relList;if(e&&e.supports&&e.supports(`modulepreload`))return;for(let e of document.querySelectorAll(`link[rel="modulepreload"]`))n(e);new MutationObserver(e=>{for(let t of e)if(t.type===`childList`)for(let e of t.addedNodes)e.tagName===`LINK`&&e.rel===`modulepreload`&&n(e)}).observe(document,{childList:!0,subtree:!0});function t(e){let t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin===`use-credentials`?t.credentials=`include`:e.crossOrigin===`anonymous`?t.credentials=`omit`:t.credentials=`same-origin`,t}function n(e){if(e.ep)return;e.ep=!0;let n=t(e);fetch(e.href,n)}})();var l=c(o(((e,t)=>{var n=void 0,r=function(e){return n||(n=new Promise(function(n,r){var i=e===void 0?{}:e,a=i.onAbort;i.onAbort=function(e){r(Error(e)),a&&a(e)},i.postRun=i.postRun||[],i.postRun.push(function(){n(i)}),t=void 0;var o;o||=i===void 0?{}:i;var s=!!globalThis.window,c=!!globalThis.WorkerGlobalScope;o.onRuntimeInitialized=function(){function e(e,t){switch(typeof t){case`boolean`:I(e,t?1:0);break;case`number`:ue(e,t);break;case`string`:F(e,t,-1,-1);break;case`object`:if(t===null)N(e);else if(t.length!=null){var n=kt(t.length);v.set(t,n),fe(e,n,t.length,-1),At(n)}else L(e,`Wrong API use : tried to return a value of an unknown type (`+t+`).`,-1);break;default:N(e)}}function t(e,t){for(var n=[],r=0;r<e;r+=1){var i=j(t+4*r,`i32`),a=O(i);if(a===1||a===2)i=le(i);else if(a===3)i=k(i);else if(a===4){a=i,i=ce(a),a=A(a);for(var o=new Uint8Array(i),s=0;s<i;s+=1)o[s]=v[a+s];i=o}else i=null;n.push(i)}return n}function n(e,t){this.Qa=e,this.db=t,this.Oa=1,this.xb=[]}function r(e,t){if(this.db=t,this.nb=St(e),this.nb===null)throw Error(`Unable to allocate memory for the SQL string`);this.tb=this.nb,this.fb=this.Cb=null}function i(e){if(this.filename=`dbfile_`+(4294967295*Math.random()>>>0),e!=null){var t=this.filename,n=`/`,r=t;if(n&&(n=typeof n==`string`?n:ke(n),r=t?de(n+`/`+t):n),t=xe(!0,!0),r=Ge(r,t),e){if(typeof e==`string`){n=Array(e.length);for(var i=0,o=e.length;i<o;++i)n[i]=e.charCodeAt(i);e=n}Qe(r,t|146),n=et(r,577),it(n,e,0,e.length,0),tt(n),Qe(r,t)}}this.handleError(c(this.filename,a)),this.db=j(a,`i32`),me(this.db),this.ob={},this.Sa={}}var a=Pt(4),s=o.cwrap,c=s(`sqlite3_open`,`number`,[`string`,`number`]),l=s(`sqlite3_close_v2`,`number`,[`number`]),u=s(`sqlite3_exec`,`number`,[`number`,`string`,`number`,`number`,`number`]),d=s(`sqlite3_changes`,`number`,[`number`]),f=s(`sqlite3_prepare_v2`,`number`,[`number`,`string`,`number`,`number`,`number`]),p=s(`sqlite3_sql`,`string`,[`number`]),m=s(`sqlite3_normalized_sql`,`string`,[`number`]),h=s(`sqlite3_prepare_v2`,`number`,[`number`,`number`,`number`,`number`,`number`]),g=s(`sqlite3_bind_text`,`number`,[`number`,`number`,`number`,`number`,`number`]),_=s(`sqlite3_bind_blob`,`number`,[`number`,`number`,`number`,`number`,`number`]),ee=s(`sqlite3_bind_double`,`number`,[`number`,`number`,`number`]),y=s(`sqlite3_bind_int`,`number`,[`number`,`number`,`number`]),b=s(`sqlite3_bind_parameter_index`,`number`,[`number`,`string`]),x=s(`sqlite3_step`,`number`,[`number`]),S=s(`sqlite3_errmsg`,`string`,[`number`]),te=s(`sqlite3_column_count`,`number`,[`number`]),ne=s(`sqlite3_data_count`,`number`,[`number`]),C=s(`sqlite3_column_double`,`number`,[`number`,`number`]),re=s(`sqlite3_column_text`,`string`,[`number`,`number`]),w=s(`sqlite3_column_blob`,`number`,[`number`,`number`]),ie=s(`sqlite3_column_bytes`,`number`,[`number`,`number`]),ae=s(`sqlite3_column_type`,`number`,[`number`,`number`]),oe=s(`sqlite3_column_name`,`string`,[`number`,`number`]),se=s(`sqlite3_reset`,`number`,[`number`]),T=s(`sqlite3_clear_bindings`,`number`,[`number`]),E=s(`sqlite3_finalize`,`number`,[`number`]),D=s(`sqlite3_create_function_v2`,`number`,`number string number number number number number number number`.split(` `)),O=s(`sqlite3_value_type`,`number`,[`number`]),ce=s(`sqlite3_value_bytes`,`number`,[`number`]),k=s(`sqlite3_value_text`,`string`,[`number`]),A=s(`sqlite3_value_blob`,`number`,[`number`]),le=s(`sqlite3_value_double`,`number`,[`number`]),ue=s(`sqlite3_result_double`,``,[`number`,`number`]),N=s(`sqlite3_result_null`,``,[`number`]),F=s(`sqlite3_result_text`,``,[`number`,`string`,`number`,`number`]),fe=s(`sqlite3_result_blob`,``,[`number`,`number`,`number`,`number`]),I=s(`sqlite3_result_int`,``,[`number`,`number`]),L=s(`sqlite3_result_error`,``,[`number`,`string`,`number`]),pe=s(`sqlite3_aggregate_context`,`number`,[`number`,`number`]),me=s(`RegisterExtensionFunctions`,`number`,[`number`]),R=s(`sqlite3_update_hook`,`number`,[`number`,`number`,`number`]);n.prototype.bind=function(e){if(!this.Qa)throw`Statement closed`;return this.reset(),Array.isArray(e)?this.Qb(e):typeof e==`object`&&e?this.Rb(e):!0},n.prototype.step=function(){if(!this.Qa)throw`Statement closed`;this.Oa=1;var e=x(this.Qa);switch(e){case 100:return!0;case 101:return!1;default:throw this.db.handleError(e)}},n.prototype.Jb=function(e){return e??(e=this.Oa,this.Oa+=1),C(this.Qa,e)},n.prototype.Xb=function(e){if(e??(e=this.Oa,this.Oa+=1),e=re(this.Qa,e),typeof BigInt!=`function`)throw Error(`BigInt is not supported`);return BigInt(e)},n.prototype.Yb=function(e){return e??(e=this.Oa,this.Oa+=1),re(this.Qa,e)},n.prototype.getBlob=function(e){e??(e=this.Oa,this.Oa+=1);var t=ie(this.Qa,e);e=w(this.Qa,e);for(var n=new Uint8Array(t),r=0;r<t;r+=1)n[r]=v[e+r];return n},n.prototype.get=function(e,t){t||={},e!=null&&this.bind(e)&&this.step(),e=[];for(var n=ne(this.Qa),r=0;r<n;r+=1)switch(ae(this.Qa,r)){case 1:var i=t.useBigInt?this.Xb(r):this.Jb(r);e.push(i);break;case 2:e.push(this.Jb(r));break;case 3:e.push(this.Yb(r));break;case 4:e.push(this.getBlob(r));break;default:e.push(null)}return e},n.prototype.getColumnNames=function(){for(var e=[],t=te(this.Qa),n=0;n<t;n+=1)e.push(oe(this.Qa,n));return e},n.prototype.getAsObject=function(e,t){e=this.get(e,t),t=this.getColumnNames();for(var n={},r=0;r<t.length;r+=1)n[t[r]]=e[r];return n},n.prototype.getSQL=function(){return p(this.Qa)},n.prototype.getNormalizedSQL=function(){return m(this.Qa)},n.prototype.run=function(e){return e!=null&&this.bind(e),this.step(),this.reset()},n.prototype.Gb=function(e,t){t??(t=this.Oa,this.Oa+=1),e=St(e),this.xb.push(e),this.db.handleError(g(this.Qa,t,e,-1,0))},n.prototype.Pb=function(e,t){t??(t=this.Oa,this.Oa+=1);var n=kt(e.length);v.set(e,n),this.xb.push(n),this.db.handleError(_(this.Qa,t,n,e.length,0))},n.prototype.Fb=function(e,t){t??(t=this.Oa,this.Oa+=1),this.db.handleError((e===(e|0)?y:ee)(this.Qa,t,e))},n.prototype.Sb=function(e){e??(e=this.Oa,this.Oa+=1),_(this.Qa,e,0,0,0)},n.prototype.Hb=function(e,t){switch(t??(t=this.Oa,this.Oa+=1),typeof e){case`string`:this.Gb(e,t);return;case`number`:this.Fb(e,t);return;case`bigint`:this.Gb(e.toString(),t);return;case`boolean`:this.Fb(e+0,t);return;case`object`:if(e===null){this.Sb(t);return}if(e.length!=null){this.Pb(e,t);return}}throw`Wrong API use : tried to bind a value of an unknown type (`+e+`).`},n.prototype.Rb=function(e){var t=this;return Object.keys(e).forEach(function(n){var r=b(t.Qa,n);r!==0&&t.Hb(e[n],r)}),!0},n.prototype.Qb=function(e){for(var t=0;t<e.length;t+=1)this.Hb(e[t],t+1);return!0},n.prototype.reset=function(){return this.freemem(),T(this.Qa)===0&&se(this.Qa)===0},n.prototype.freemem=function(){for(var e;(e=this.xb.pop())!==void 0;)At(e)},n.prototype.free=function(){this.freemem();var e=E(this.Qa)===0;return delete this.db.ob[this.Qa],this.Qa=0,e},r.prototype.next=function(){if(this.nb===null)return{done:!0};if(this.fb!==null&&(this.fb.free(),this.fb=null),!this.db.db)throw this.zb(),Error(`Database closed`);var e=Ft(),t=Pt(4);M(a),M(t);try{this.db.handleError(h(this.db.db,this.tb,-1,a,t)),this.tb=j(t,`i32`);var r=j(a,`i32`);return r===0?(this.zb(),{done:!0}):(this.fb=new n(r,this.db),this.db.ob[r]=this.fb,{value:this.fb,done:!1})}catch(e){throw this.Cb=P(this.tb),this.zb(),e}finally{Nt(e)}},r.prototype.zb=function(){At(this.nb),this.nb=null},r.prototype.getRemainingSQL=function(){return this.Cb===null?P(this.tb):this.Cb},typeof Symbol==`function`&&typeof Symbol.iterator==`symbol`&&(r.prototype[Symbol.iterator]=function(){return this}),i.prototype.run=function(e,t){if(!this.db)throw`Database closed`;if(t){e=this.prepare(e,t);try{e.step()}finally{e.free()}}else this.handleError(u(this.db,e,0,0,a));return this},i.prototype.exec=function(e,t,r){if(!this.db)throw`Database closed`;var i=t=null,o=null;try{o=i=St(e);var s=Pt(4);for(e=[];j(o,`i8`)!==0;){M(a),M(s),this.handleError(h(this.db,o,-1,a,s));var c=j(a,`i32`);if(o=j(s,`i32`),c!==0){var l=null;for(t=new n(c,this);t.step();)l===null&&(l={lc:t.getColumnNames(),values:[]},e.push(l)),l.values.push(t.get(null,r));t.free()}}return e}catch(e){throw t&&t.free(),e}finally{i&&At(i)}},i.prototype.each=function(e,t,n,r,i){typeof t==`function`&&(r=n,n=t,t=void 0),e=this.prepare(e,t);try{for(;e.step();)n(e.getAsObject(null,i))}finally{e.free()}if(typeof r==`function`)return r()},i.prototype.prepare=function(e){if(M(a),this.handleError(f(this.db,e,-1,a,0)),e=j(a,`i32`),e===0)throw`Nothing to prepare`;var t=new n(e,this);return this.ob[e]=t},i.prototype.iterateStatements=function(e){return new r(e,this)},i.prototype.export=function(){Object.values(this.ob).forEach(function(e){e.free()}),Object.values(this.Sa).forEach(Q),this.Sa={},this.handleError(l(this.db));var e=at(this.filename);return this.handleError(c(this.filename,a)),this.db=j(a,`i32`),me(this.db),e},i.prototype.close=function(){this.db!==null&&(Object.values(this.ob).forEach(function(e){e.free()}),Object.values(this.Sa).forEach(Q),this.Sa={},this.eb&&=(Q(this.eb),void 0),this.handleError(l(this.db)),Ye(`/`+this.filename),this.db=null)},i.prototype.handleError=function(e){if(e===0)return null;throw e=S(this.db),Error(e)},i.prototype.getRowsModified=function(){return d(this.db)},i.prototype.create_function=function(n,r){Object.prototype.hasOwnProperty.call(this.Sa,n)&&(Q(this.Sa[n]),delete this.Sa[n]);var i=Ot(function(n,i,a){i=t(i,a);try{var o=r.apply(null,i)}catch(e){L(n,e,-1);return}e(n,o)},`viii`);return this.Sa[n]=i,this.handleError(D(this.db,n,r.length,1,0,i,0,0,0)),this},i.prototype.create_aggregate=function(n,r){var i=r.init||function(){return null},a=r.finalize||function(e){return e},o=r.step;if(!o)throw`An aggregate function must have a step function in `+n;var s={};Object.hasOwnProperty.call(this.Sa,n)&&(Q(this.Sa[n]),delete this.Sa[n]),r=n+`__finalize`,Object.hasOwnProperty.call(this.Sa,r)&&(Q(this.Sa[r]),delete this.Sa[r]);var c=Ot(function(e,n,r){var a=pe(e,1);Object.hasOwnProperty.call(s,a)||(s[a]=i()),n=t(n,r),n=[s[a]].concat(n);try{s[a]=o.apply(null,n)}catch(t){delete s[a],L(e,t,-1)}},`viii`),l=Ot(function(t){var n=pe(t,1);try{var r=a(s[n])}catch(e){delete s[n],L(t,e,-1);return}e(t,r),delete s[n]},`vi`);return this.Sa[n]=c,this.Sa[r]=l,this.handleError(D(this.db,n,o.length-1,1,0,0,c,l,0)),this},i.prototype.updateHook=function(e){return this.eb&&=(R(this.db,0,0),Q(this.eb),void 0),e?(this.eb=Ot(function(t,n,r,i,a){switch(n){case 18:t=`insert`;break;case 23:t=`update`;break;case 9:t=`delete`;break;default:throw`unknown operationCode in updateHook callback: `+n}if(r=P(r),i=P(i),a>2**53-1)throw`rowId too big to fit inside a Number`;e(t,r,i,Number(a))},`viiiij`),R(this.db,this.eb,0),this):this},o.Database=i};var l=`./this.program`,u=globalThis.document?.currentScript?.src;c&&(u=self.location.href);var d=``,f,p;if(s||c){try{d=new URL(`.`,u).href}catch{}c&&(p=e=>{var t=new XMLHttpRequest;return t.open(`GET`,e,!1),t.responseType=`arraybuffer`,t.send(null),new Uint8Array(t.response)}),f=async e=>{if(e=await fetch(e,{credentials:`same-origin`}),e.ok)return e.arrayBuffer();throw Error(e.status+` : `+e.url)}}var m=console.log.bind(console),h=console.error.bind(console),g,_=!1,ee,v,y,b,x,S,te,ne,C;function re(){var e=It.buffer;v=new Int8Array(e),b=new Int16Array(e),y=new Uint8Array(e),new Uint16Array(e),x=new Int32Array(e),S=new Uint32Array(e),te=new Float32Array(e),ne=new Float64Array(e),C=new BigInt64Array(e),new BigUint64Array(e)}function w(e){throw o.onAbort?.(e),e=`Aborted(`+e+`)`,h(e),_=!0,new WebAssembly.RuntimeError(e+`. Build with -sASSERTIONS for more info.`)}var ie;async function ae(e){if(!g)try{var t=await f(e);return new Uint8Array(t)}catch{}if(e==ie&&g)e=new Uint8Array(g);else if(p)e=p(e);else throw`both async and sync fetching of the wasm failed`;return e}async function oe(e,t){try{var n=await ae(e);return await WebAssembly.instantiate(n,t)}catch(e){h(`failed to asynchronously prepare wasm: ${e}`),w(e)}}async function se(e){var t=ie;if(!g)try{var n=fetch(t,{credentials:`same-origin`});return await WebAssembly.instantiateStreaming(n,e)}catch(e){h(`wasm streaming compile failed: ${e}`),h(`falling back to ArrayBuffer instantiation`)}return oe(t,e)}class T{name=`ExitStatus`;constructor(e){this.message=`Program terminated with exit(${e})`,this.status=e}}var E=e=>{for(;0<e.length;)e.shift()(o)},D=[],O=[],ce=()=>{var e=o.preRun.shift();O.push(e)},k=0,A=null;function j(e,t=`i8`){switch(t.endsWith(`*`)&&(t=`*`),t){case`i1`:return v[e];case`i8`:return v[e];case`i16`:return b[e>>1];case`i32`:return x[e>>2];case`i64`:return C[e>>3];case`float`:return te[e>>2];case`double`:return ne[e>>3];case`*`:return S[e>>2];default:w(`invalid type for getValue: ${t}`)}}var le=!0;function M(e){var t=`i32`;switch(t.endsWith(`*`)&&(t=`*`),t){case`i1`:v[e]=0;break;case`i8`:v[e]=0;break;case`i16`:b[e>>1]=0;break;case`i32`:x[e>>2]=0;break;case`i64`:C[e>>3]=BigInt(0);break;case`float`:te[e>>2]=0;break;case`double`:ne[e>>3]=0;break;case`*`:S[e>>2]=0;break;default:w(`invalid type for setValue: ${t}`)}}var ue=new TextDecoder,N=(e,t,n,r)=>{if(n=t+n,r)return n;for(;e[t]&&!(t>=n);)++t;return t},P=(e,t,n)=>e?ue.decode(y.subarray(e,N(y,e,t,n))):``,F=(e,t)=>{for(var n=0,r=e.length-1;0<=r;r--){var i=e[r];i===`.`?e.splice(r,1):i===`..`?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n;n--)e.unshift(`..`);return e},de=e=>{var t=e.charAt(0)===`/`,n=e.slice(-1)===`/`;return(e=F(e.split(`/`).filter(e=>!!e),!t).join(`/`))||t||(e=`.`),e&&n&&(e+=`/`),(t?`/`:``)+e},fe=e=>{var t=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(e).slice(1);return e=t[0],t=t[1],!e&&!t?`.`:(t&&=t.slice(0,-1),e+t)},I=e=>e&&e.match(/([^\/]+|\/)\/*$/)[1],L=()=>e=>crypto.getRandomValues(e),pe=e=>{(pe=L())(e)},me=(...e)=>{for(var t=``,n=!1,r=e.length-1;-1<=r&&!n;r--){if(n=0<=r?e[r]:`/`,typeof n!=`string`)throw TypeError(`Arguments to path.resolve must be strings`);if(!n)return``;t=n+`/`+t,n=n.charAt(0)===`/`}return t=F(t.split(`/`).filter(e=>!!e),!n).join(`/`),(n?`/`:``)+t||`.`},R=e=>{var t=N(e,0);return ue.decode(e.buffer?e.subarray(0,t):new Uint8Array(e.slice(0,t)))},he=[],z=e=>{for(var t=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);127>=r?t++:2047>=r?t+=2:55296<=r&&57343>=r?(t+=4,++n):t+=3}return t},B=(e,t,n,r)=>{if(!(0<r))return 0;var i=n;r=n+r-1;for(var a=0;a<e.length;++a){var o=e.codePointAt(a);if(127>=o){if(n>=r)break;t[n++]=o}else if(2047>=o){if(n+1>=r)break;t[n++]=192|o>>6,t[n++]=128|o&63}else if(65535>=o){if(n+2>=r)break;t[n++]=224|o>>12,t[n++]=128|o>>6&63,t[n++]=128|o&63}else{if(n+3>=r)break;t[n++]=240|o>>18,t[n++]=128|o>>12&63,t[n++]=128|o>>6&63,t[n++]=128|o&63,a++}}return t[n]=0,n-i},ge=[];function _e(e,t){ge[e]={input:[],output:[],jb:t},He(e,ve)}var ve={open(e){var t=ge[e.node.mb];if(!t)throw new G(43);e.Va=t,e.seekable=!1},close(e){e.Va.jb.kb(e.Va)},kb(e){e.Va.jb.kb(e.Va)},read(e,t,n,r){if(!e.Va||!e.Va.jb.Kb)throw new G(60);for(var i=0,a=0;a<r;a++){try{var o=e.Va.jb.Kb(e.Va)}catch{throw new G(29)}if(o===void 0&&i===0)throw new G(6);if(o==null)break;i++,t[n+a]=o}return i&&(e.node.$a=Date.now()),i},write(e,t,n,r){if(!e.Va||!e.Va.jb.Db)throw new G(60);try{for(var i=0;i<r;i++)e.Va.jb.Db(e.Va,t[n+i])}catch{throw new G(29)}return r&&(e.node.Ua=e.node.Ta=Date.now()),i}},ye={Kb(){a:{if(!he.length){var e=null;if(globalThis.window?.prompt&&(e=window.prompt(`Input: `),e!==null&&(e+=`
`)),!e){var t=null;break a}t=Array(z(e)+1),e=B(e,t,0,t.length),t.length=e,he=t}t=he.shift()}return t},Db(e,t){t===null||t===10?(m(R(e.output)),e.output=[]):t!=0&&e.output.push(t)},kb(e){0<e.output?.length&&(m(R(e.output)),e.output=[])},oc(){return{ic:25856,kc:5,hc:191,jc:35387,fc:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},pc(){return 0},qc(){return[24,80]}},be={Db(e,t){t===null||t===10?(h(R(e.output)),e.output=[]):t!=0&&e.output.push(t)},kb(e){0<e.output?.length&&(h(R(e.output)),e.output=[])}},V={Za:null,ab(){return V.createNode(null,`/`,16895,0)},createNode(e,t,n,r){if((n&61440)==24576||(n&61440)==4096)throw new G(63);return V.Za||={dir:{node:{Wa:V.La.Wa,Xa:V.La.Xa,lb:V.La.lb,qb:V.La.qb,Nb:V.La.Nb,wb:V.La.wb,ub:V.La.ub,Eb:V.La.Eb,vb:V.La.vb},stream:{Ya:V.Ma.Ya}},file:{node:{Wa:V.La.Wa,Xa:V.La.Xa},stream:{Ya:V.Ma.Ya,read:V.Ma.read,write:V.Ma.write,rb:V.Ma.rb,sb:V.Ma.sb}},link:{node:{Wa:V.La.Wa,Xa:V.La.Xa,cb:V.La.cb},stream:{}},Ib:{node:{Wa:V.La.Wa,Xa:V.La.Xa},stream:Ve}},n=Me(e,t,n,r),J(n.mode)?(n.La=V.Za.dir.node,n.Ma=V.Za.dir.stream,n.Na={}):(n.mode&61440)==32768?(n.La=V.Za.file.node,n.Ma=V.Za.file.stream,n.Ra=0,n.Na=null):(n.mode&61440)==40960?(n.La=V.Za.link.node,n.Ma=V.Za.link.stream):(n.mode&61440)==8192&&(n.La=V.Za.Ib.node,n.Ma=V.Za.Ib.stream),n.$a=n.Ua=n.Ta=Date.now(),e&&(e.Na[t]=n,e.$a=e.Ua=e.Ta=n.$a),n},nc(e){return e.Na?e.Na.subarray?e.Na.subarray(0,e.Ra):new Uint8Array(e.Na):new Uint8Array},La:{Wa(e){var t={};return t.Vb=(e.mode&61440)==8192?e.id:1,t.$b=e.id,t.mode=e.mode,t.bc=1,t.uid=0,t.Zb=0,t.mb=e.mb,J(e.mode)?t.size=4096:(e.mode&61440)==32768?t.size=e.Ra:(e.mode&61440)==40960?t.size=e.link.length:t.size=0,t.$a=new Date(e.$a),t.Ua=new Date(e.Ua),t.Ta=new Date(e.Ta),t.Tb=4096,t.Ub=Math.ceil(t.size/t.Tb),t},Xa(e,t){for(var n of[`mode`,`atime`,`mtime`,`ctime`])t[n]!=null&&(e[n]=t[n]);t.size!==void 0&&(t=t.size,e.Ra!=t&&(t==0?(e.Na=null,e.Ra=0):(n=e.Na,e.Na=new Uint8Array(t),n&&e.Na.set(n.subarray(0,Math.min(t,e.Ra))),e.Ra=t)))},lb(){throw V.yb||(V.yb=new G(44),V.yb.stack=`<generic error, no stack>`),V.yb},qb(e,t,n,r){return V.createNode(e,t,n,r)},Nb(e,t,n){try{var r=q(t,n)}catch{}if(r){if(J(e.mode))for(var i in r.Na)throw new G(55);je(r)}delete e.parent.Na[e.name],t.Na[n]=e,e.name=n,t.Ta=t.Ua=e.parent.Ta=e.parent.Ua=Date.now()},wb(e,t){delete e.Na[t],e.Ta=e.Ua=Date.now()},ub(e,t){var n=q(e,t),r;for(r in n.Na)throw new G(55);delete e.Na[t],e.Ta=e.Ua=Date.now()},Eb(e){return[`.`,`..`,...Object.keys(e.Na)]},vb(e,t,n){return e=V.createNode(e,t,41471,0),e.link=n,e},cb(e){if((e.mode&61440)!=40960)throw new G(28);return e.link}},Ma:{read(e,t,n,r,i){var a=e.node.Na;if(i>=e.node.Ra)return 0;if(e=Math.min(e.node.Ra-i,r),8<e&&a.subarray)t.set(a.subarray(i,i+e),n);else for(r=0;r<e;r++)t[n+r]=a[i+r];return e},write(e,t,n,r,i,a){if(t.buffer===v.buffer&&(a=!1),!r)return 0;if(e=e.node,e.Ua=e.Ta=Date.now(),t.subarray&&(!e.Na||e.Na.subarray)){if(a)return e.Na=t.subarray(n,n+r),e.Ra=r;if(e.Ra===0&&i===0)return e.Na=t.slice(n,n+r),e.Ra=r;if(i+r<=e.Ra)return e.Na.set(t.subarray(n,n+r),i),r}a=i+r;var o=e.Na?e.Na.length:0;if(o>=a||(a=Math.max(a,o*(1048576>o?2:1.125)>>>0),o!=0&&(a=Math.max(a,256)),o=e.Na,e.Na=new Uint8Array(a),0<e.Ra&&e.Na.set(o.subarray(0,e.Ra),0)),e.Na.subarray&&t.subarray)e.Na.set(t.subarray(n,n+r),i);else for(a=0;a<r;a++)e.Na[i+a]=t[n+a];return e.Ra=Math.max(e.Ra,i+r),r},Ya(e,t,n){if(n===1?t+=e.position:n===2&&(e.node.mode&61440)==32768&&(t+=e.node.Ra),0>t)throw new G(28);return t},rb(e,t,n,r,i){if((e.node.mode&61440)!=32768)throw new G(43);if(e=e.node.Na,i&2||!e||e.buffer!==v.buffer){i=!0,r=65536*Math.ceil(t/65536);var a=jt(65536,r);if(a&&y.fill(0,a,a+r),r=a,!r)throw new G(48);e&&((0<n||n+t<e.length)&&(e=e.subarray?e.subarray(n,n+t):Array.prototype.slice.call(e,n,n+t)),v.set(e,r))}else i=!1,r=e.byteOffset;return{dc:r,Ob:i}},sb(e,t,n,r){return V.Ma.write(e,t,0,r,n,!1),0}}},xe=(e,t)=>{var n=0;return e&&(n|=365),t&&(n|=146),n},Se=null,Ce={},H=[],we=1,U=null,Te=!1,Ee=!0,W={},G=class{name=`ErrnoError`;constructor(e){this.Pa=e}},De=class{pb={};node=null;get flags(){return this.pb.flags}set flags(e){this.pb.flags=e}get position(){return this.pb.position}set position(e){this.pb.position=e}},Oe=class{La={};Ma={};hb=null;constructor(e,t,n,r){e||=this,this.parent=e,this.ab=e.ab,this.id=we++,this.name=t,this.mode=n,this.mb=r,this.$a=this.Ua=this.Ta=Date.now()}get read(){return(this.mode&365)==365}set read(e){e?this.mode|=365:this.mode&=-366}get write(){return(this.mode&146)==146}set write(e){e?this.mode|=146:this.mode&=-147}};function K(e,t={}){if(!e)throw new G(44);t.Ab??=!0,e.charAt(0)===`/`||(e=`//`+e);var n=0;a:for(;40>n;n++){e=e.split(`/`).filter(e=>!!e);for(var r=Se,i=`/`,a=0;a<e.length;a++){var o=a===e.length-1;if(o&&t.parent)break;if(e[a]!==`.`)if(e[a]===`..`)if(i=fe(i),r===r.parent){e=i+`/`+e.slice(a+1).join(`/`),n--;continue a}else r=r.parent;else{i=de(i+`/`+e[a]);try{r=q(r,e[a])}catch(e){if(e?.Pa===44&&o&&t.cc)return{path:i};throw e}if(!r.hb||o&&!t.Ab||(r=r.hb.root),(r.mode&61440)==40960&&(!o||t.gb)){if(!r.La.cb)throw new G(52);r=r.La.cb(r),r.charAt(0)===`/`||(r=fe(i)+`/`+r),e=r+`/`+e.slice(a+1).join(`/`);continue a}}}return{path:i,node:r}}throw new G(32)}function ke(e){for(var t;;){if(e===e.parent)return e=e.ab.Mb,t?e[e.length-1]===`/`?e+t:`${e}/${t}`:e;t=t?`${e.name}/${t}`:e.name,e=e.parent}}function Ae(e,t){for(var n=0,r=0;r<t.length;r++)n=(n<<5)-n+t.charCodeAt(r)|0;return(e+n>>>0)%U.length}function je(e){var t=Ae(e.parent.id,e.name);if(U[t]===e)U[t]=e.ib;else for(t=U[t];t;){if(t.ib===e){t.ib=e.ib;break}t=t.ib}}function q(e,t){var n=J(e.mode)?(n=Pe(e,`x`))?n:e.La.lb?0:2:54;if(n)throw new G(n);for(n=U[Ae(e.id,t)];n;n=n.ib){var r=n.name;if(n.parent.id===e.id&&r===t)return n}return e.La.lb(e,t)}function Me(e,t,n,r){return e=new Oe(e,t,n,r),t=Ae(e.parent.id,e.name),e.ib=U[t],U[t]=e}function J(e){return(e&61440)==16384}function Ne(e){var t=[`r`,`w`,`rw`][e&3];return e&512&&(t+=`w`),t}function Pe(e,t){if(Ee)return 0;if(!t.includes(`r`)||e.mode&292){if(t.includes(`w`)&&!(e.mode&146)||t.includes(`x`)&&!(e.mode&73))return 2}else return 2;return 0}function Fe(e,t){if(!J(e.mode))return 54;try{return q(e,t),20}catch{}return Pe(e,`wx`)}function Ie(e,t,n){try{var r=q(e,t)}catch(e){return e.Pa}if(e=Pe(e,`wx`))return e;if(n){if(!J(r.mode))return 54;if(r===r.parent||ke(r)===`/`)return 10}else if(J(r.mode))return 31;return 0}function Le(e){if(!e)throw new G(63);return e}function Y(e){if(e=H[e],!e)throw new G(8);return e}function Re(e,t=-1){if(e=Object.assign(new De,e),t==-1)a:{for(t=0;4096>=t;t++)if(!H[t])break a;throw new G(33)}return e.bb=t,H[t]=e}function ze(e,t=-1){return e=Re(e,t),e.Ma?.mc?.(e),e}function Be(e,t,n){var r=e?.Ma.Xa;e=r?e:t,r??=t.La.Xa,Le(r),r(e,n)}var Ve={open(e){e.Ma=Ce[e.node.mb].Ma,e.Ma.open?.(e)},Ya(){throw new G(70)}};function He(e,t){Ce[e]={Ma:t}}function Ue(e,t){var n=t===`/`;if(n&&Se)throw new G(10);if(!n&&t){var r=K(t,{Ab:!1});if(t=r.path,r=r.node,r.hb)throw new G(10);if(!J(r.mode))throw new G(54)}t={type:e,rc:{},Mb:t,ac:[]},e=e.ab(t),e.ab=t,t.root=e,n?Se=e:r&&(r.hb=t,r.ab&&r.ab.ac.push(t))}function We(e,t,n){var r=K(e,{parent:!0}).node;if(e=I(e),!e)throw new G(28);if(e===`.`||e===`..`)throw new G(20);var i=Fe(r,e);if(i)throw new G(i);if(!r.La.qb)throw new G(63);return r.La.qb(r,e,t,n)}function Ge(e,t=438){return We(e,t&4095|32768,0)}function X(e,t=511){return We(e,t&1023|16384,0)}function Ke(e,t,n){n===void 0&&(n=t,t=438),We(e,t|8192,n)}function qe(e,t){if(!me(e))throw new G(44);var n=K(t,{parent:!0}).node;if(!n)throw new G(44);t=I(t);var r=Fe(n,t);if(r)throw new G(r);if(!n.La.vb)throw new G(63);n.La.vb(n,t,e)}function Je(e){var t=K(e,{parent:!0}).node;e=I(e);var n=q(t,e),r=Ie(t,e,!0);if(r)throw new G(r);if(!t.La.ub)throw new G(63);if(n.hb)throw new G(10);t.La.ub(t,e),je(n)}function Ye(e){var t=K(e,{parent:!0}).node;if(!t)throw new G(44);e=I(e);var n=q(t,e),r=Ie(t,e,!1);if(r)throw new G(r);if(!t.La.wb)throw new G(63);if(n.hb)throw new G(10);t.La.wb(t,e),je(n)}function Xe(e,t){return e=K(e,{gb:!t}).node,Le(e.La.Wa)(e)}function Ze(e,t,n,r){Be(e,t,{mode:n&4095|t.mode&-4096,Ta:Date.now(),Wb:r})}function Qe(e,t){e=typeof e==`string`?K(e,{gb:!0}).node:e,Ze(null,e,t)}function $e(e,t,n){if(J(t.mode))throw new G(31);if((t.mode&61440)!=32768)throw new G(28);var r=Pe(t,`w`);if(r)throw new G(r);Be(e,t,{size:n,timestamp:Date.now()})}function et(e,t,n=438){if(e===``)throw new G(44);if(typeof t==`string`){var r={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090}[t];if(r===void 0)throw Error(`Unknown file open mode: ${t}`);t=r}if(n=t&64?n&4095|32768:0,typeof e==`object`)r=e;else{var i=e.endsWith(`/`);e=K(e,{gb:!(t&131072),cc:!0}),r=e.node,e=e.path}var a=!1;if(t&64)if(r){if(t&128)throw new G(20)}else{if(i)throw new G(31);r=We(e,n|511,0),a=!0}if(!r)throw new G(44);if((r.mode&61440)==8192&&(t&=-513),t&65536&&!J(r.mode))throw new G(54);if(!a&&(i=r?(r.mode&61440)==40960?32:J(r.mode)&&(Ne(t)!==`r`||t&576)?31:Pe(r,Ne(t)):44))throw new G(i);return t&512&&!a&&(i=r,i=typeof i==`string`?K(i,{gb:!0}).node:i,$e(null,i,0)),t&=-131713,i=Re({node:r,path:ke(r),flags:t,seekable:!0,position:0,Ma:r.Ma,ec:[],error:!1}),i.Ma.open&&i.Ma.open(i),a&&Qe(r,n&511),!o.logReadFiles||t&1||e in W||(W[e]=1),i}function tt(e){if(e.bb===null)throw new G(8);e.Bb&&=null;try{e.Ma.close&&e.Ma.close(e)}catch(e){throw e}finally{H[e.bb]=null}e.bb=null}function nt(e,t,n){if(e.bb===null)throw new G(8);if(!e.seekable||!e.Ma.Ya)throw new G(70);if(n!=0&&n!=1&&n!=2)throw new G(28);e.position=e.Ma.Ya(e,t,n),e.ec=[]}function rt(e,t,n,r,i){if(0>r||0>i)throw new G(28);if(e.bb===null||(e.flags&2097155)==1)throw new G(8);if(J(e.node.mode))throw new G(31);if(!e.Ma.read)throw new G(28);var a=i!==void 0;if(!a)i=e.position;else if(!e.seekable)throw new G(70);return t=e.Ma.read(e,t,n,r,i),a||(e.position+=t),t}function it(e,t,n,r,i){if(0>r||0>i)throw new G(28);if(e.bb===null||!(e.flags&2097155))throw new G(8);if(J(e.node.mode))throw new G(31);if(!e.Ma.write)throw new G(28);e.seekable&&e.flags&1024&&nt(e,0,2);var a=i!==void 0;if(!a)i=e.position;else if(!e.seekable)throw new G(70);return t=e.Ma.write(e,t,n,r,i,void 0),a||(e.position+=t),t}function at(e){var t=t||0,n=`binary`;n!==`utf8`&&n!==`binary`&&w(`Invalid encoding type "${n}"`),t=et(e,t),e=Xe(e).size;var r=new Uint8Array(e);return rt(t,r,0,e,0),n===`utf8`&&(r=R(r)),tt(t),r}function ot(e,t,n){e=de(`/dev/`+e);var r=xe(!!t,!!n);ot.Lb??=64;var i=ot.Lb++<<8|0;He(i,{open(e){e.seekable=!1},close(){n?.buffer?.length&&n(10)},read(e,n,r,i){for(var a=0,o=0;o<i;o++){try{var s=t()}catch{throw new G(29)}if(s===void 0&&a===0)throw new G(6);if(s==null)break;a++,n[r+o]=s}return a&&(e.node.$a=Date.now()),a},write(e,t,r,i){for(var a=0;a<i;a++)try{n(t[r+a])}catch{throw new G(29)}return i&&(e.node.Ua=e.node.Ta=Date.now()),a}}),Ke(e,r,i)}var Z={};function st(e,t,n){if(t.charAt(0)===`/`)return t;if(e=e===-100?`/`:Y(e).path,t.length==0){if(!n)throw new G(44);return e}return e+`/`+t}function ct(e,t){S[e>>2]=t.Vb,S[e+4>>2]=t.mode,S[e+8>>2]=t.bc,S[e+12>>2]=t.uid,S[e+16>>2]=t.Zb,S[e+20>>2]=t.mb,C[e+24>>3]=BigInt(t.size),x[e+32>>2]=4096,x[e+36>>2]=t.Ub;var n=t.$a.getTime(),r=t.Ua.getTime(),i=t.Ta.getTime();return C[e+40>>3]=BigInt(Math.floor(n/1e3)),S[e+48>>2]=n%1e3*1e6,C[e+56>>3]=BigInt(Math.floor(r/1e3)),S[e+64>>2]=r%1e3*1e6,C[e+72>>3]=BigInt(Math.floor(i/1e3)),S[e+80>>2]=i%1e3*1e6,C[e+88>>3]=BigInt(t.$b),0}var lt=void 0,ut=()=>{var e=x[lt>>2];return lt+=4,e},dt=0,ft=[0,31,60,91,121,152,182,213,244,274,305,335],pt=[0,31,59,90,120,151,181,212,243,273,304,334],mt={},ht=e=>{if(!(e instanceof T||e==`unwind`))throw e},gt=e=>{throw ee=e,le||0<dt||(o.onExit?.(e),_=!0),new T(e)},_t=e=>{if(!_)try{e()}catch(e){ht(e)}finally{if(!(le||0<dt))try{ee=e=ee,gt(e)}catch(e){ht(e)}}},vt={},yt=()=>{if(!bt){var e={USER:`web_user`,LOGNAME:`web_user`,PATH:`/`,PWD:`/`,HOME:`/home/web_user`,LANG:(globalThis.navigator?.language??`C`).replace(`-`,`_`)+`.UTF-8`,_:l||`./this.program`},t;for(t in vt)vt[t]===void 0?delete e[t]:e[t]=vt[t];var n=[];for(t in e)n.push(`${t}=${e[t]}`);bt=n}return bt},bt,xt=(e,t,n,r)=>{var i={string:e=>{var t=0;if(e!=null&&e!==0){t=z(e)+1;var n=Pt(t);B(e,y,n,t),t=n}return t},array:e=>{var t=Pt(e.length);return v.set(e,t),t}};e=o[`_`+e];var a=[],s=0;if(r)for(var c=0;c<r.length;c++){var l=i[n[c]];l?(s===0&&(s=Ft()),a[c]=l(r[c])):a[c]=r[c]}return n=e(...a),n=function(e){return s!==0&&Nt(s),t===`string`?P(e):t===`boolean`?!!e:e}(n)},St=e=>{var t=z(e)+1,n=kt(t);return n&&B(e,y,n,t),n},Ct,wt=[],Q=e=>{Ct.delete($.get(e)),$.set(e,null),wt.push(e)},Tt=e=>{let t=e.length;return[t%128|128,t>>7,...e]},Et={i:127,p:127,j:126,f:125,d:124,e:111},Dt=e=>Tt(Array.from(e,e=>Et[e])),Ot=(e,t)=>{if(!Ct){Ct=new WeakMap;var n=$.length;if(Ct)for(var r=0;r<0+n;r++){var i=$.get(r);i&&Ct.set(i,r)}}if(n=Ct.get(e)||0)return n;n=wt.length?wt.pop():$.grow(1);try{$.set(n,e)}catch(r){if(!(r instanceof TypeError))throw r;t=Uint8Array.of(0,97,115,109,1,0,0,0,1,...Tt([1,96,...Dt(t.slice(1)),...Dt(t[0]===`v`?``:t[0])]),2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0),t=new WebAssembly.Module(t),t=new WebAssembly.Instance(t,{e:{f:e}}).exports.f,$.set(n,t)}return Ct.set(e,n),n};if(U=Array(4096),Ue(V,`/`),X(`/tmp`),X(`/home`),X(`/home/web_user`),(function(){X(`/dev`),He(259,{read:()=>0,write:(e,t,n,r)=>r,Ya:()=>0}),Ke(`/dev/null`,259),_e(1280,ye),_e(1536,be),Ke(`/dev/tty`,1280),Ke(`/dev/tty1`,1536);var e=new Uint8Array(1024),t=0,n=()=>(t===0&&(pe(e),t=e.byteLength),e[--t]);ot(`random`,n),ot(`urandom`,n),X(`/dev/shm`),X(`/dev/shm/tmp`)})(),(function(){X(`/proc`);var e=X(`/proc/self`);X(`/proc/self/fd`),Ue({ab(){var t=Me(e,`fd`,16895,73);return t.Ma={Ya:V.Ma.Ya},t.La={lb(e,t){e=+t;var n=Y(e);return e={parent:null,ab:{Mb:`fake`},La:{cb:()=>n.path},id:e+1},e.parent=e},Eb(){return Array.from(H.entries()).filter(([,e])=>e).map(([e])=>e.toString())}},t}},`/proc/self/fd`)})(),o.noExitRuntime&&(le=o.noExitRuntime),o.print&&(m=o.print),o.printErr&&(h=o.printErr),o.wasmBinary&&(g=o.wasmBinary),o.thisProgram&&(l=o.thisProgram),o.preInit)for(typeof o.preInit==`function`&&(o.preInit=[o.preInit]);0<o.preInit.length;)o.preInit.shift()();o.stackSave=()=>Ft(),o.stackRestore=e=>Nt(e),o.stackAlloc=e=>Pt(e),o.cwrap=(e,t,n,r)=>{var i=!n||n.every(e=>e===`number`||e===`boolean`);return t!==`string`&&i&&!r?o[`_`+e]:(...r)=>xt(e,t,n,r)},o.addFunction=Ot,o.removeFunction=Q,o.UTF8ToString=P,o.stringToNewUTF8=St,o.writeArrayToMemory=(e,t)=>{v.set(e,t)};var kt,At,jt,Mt,Nt,Pt,Ft,It,$,Lt={a:(e,t,n,r)=>w(`Assertion failed: ${P(e)}, at: `+[t?P(t):`unknown filename`,n,r?P(r):`unknown function`]),i:function(e,t){try{return e=P(e),Qe(e,t),0}catch(e){if(Z===void 0||e.name!==`ErrnoError`)throw e;return-e.Pa}},L:function(e,t,n){try{if(t=P(t),t=st(e,t),n&-8)return-28;var r=K(t,{gb:!0}).node;return r?(e=``,n&4&&(e+=`r`),n&2&&(e+=`w`),n&1&&(e+=`x`),e&&Pe(r,e)?-2:0):-44}catch(e){if(Z===void 0||e.name!==`ErrnoError`)throw e;return-e.Pa}},j:function(e,t){try{var n=Y(e);return Ze(n,n.node,t,!1),0}catch(e){if(Z===void 0||e.name!==`ErrnoError`)throw e;return-e.Pa}},h:function(e){try{var t=Y(e);return Be(t,t.node,{timestamp:Date.now(),Wb:!1}),0}catch(e){if(Z===void 0||e.name!==`ErrnoError`)throw e;return-e.Pa}},b:function(e,t,n){lt=n;try{var r=Y(e);switch(t){case 0:var i=ut();if(0>i)break;for(;H[i];)i++;return ze(r,i).bb;case 1:case 2:return 0;case 3:return r.flags;case 4:return i=ut(),r.flags|=i,0;case 12:return i=ut(),b[i+0>>1]=2,0;case 13:case 14:return 0}return-28}catch(e){if(Z===void 0||e.name!==`ErrnoError`)throw e;return-e.Pa}},g:function(e,t){try{var n=Y(e),r=n.node,i=n.Ma.Wa;return e=i?n:r,i??=r.La.Wa,Le(i),ct(t,i(e))}catch(e){if(Z===void 0||e.name!==`ErrnoError`)throw e;return-e.Pa}},H:function(e,t){t=-9007199254740992>t||9007199254740992<t?NaN:Number(t);try{if(isNaN(t))return-61;var n=Y(e);if(0>t||!(n.flags&2097155))throw new G(28);return $e(n,n.node,t),0}catch(e){if(Z===void 0||e.name!==`ErrnoError`)throw e;return-e.Pa}},G:function(e,t){try{if(t===0)return-28;var n=z(`/`)+1;return t<n?-68:(B(`/`,y,e,t),n)}catch(e){if(Z===void 0||e.name!==`ErrnoError`)throw e;return-e.Pa}},K:function(e,t){try{return e=P(e),ct(t,Xe(e,!0))}catch(e){if(Z===void 0||e.name!==`ErrnoError`)throw e;return-e.Pa}},C:function(e,t,n){try{return t=P(t),t=st(e,t),X(t,n),0}catch(e){if(Z===void 0||e.name!==`ErrnoError`)throw e;return-e.Pa}},J:function(e,t,n,r){try{t=P(t);var i=r&256;return t=st(e,t,r&4096),ct(n,i?Xe(t,!0):Xe(t))}catch(e){if(Z===void 0||e.name!==`ErrnoError`)throw e;return-e.Pa}},x:function(e,t,n,r){lt=r;try{t=P(t),t=st(e,t);var i=r?ut():0;return et(t,n,i).bb}catch(e){if(Z===void 0||e.name!==`ErrnoError`)throw e;return-e.Pa}},v:function(e,t,n,r){try{if(t=P(t),t=st(e,t),0>=r)return-28;var i=K(t).node;if(!i)throw new G(44);if(!i.La.cb)throw new G(28);var a=i.La.cb(i),o=Math.min(r,z(a)),s=v[n+o];return B(a,y,n,r+1),v[n+o]=s,o}catch(e){if(Z===void 0||e.name!==`ErrnoError`)throw e;return-e.Pa}},u:function(e){try{return e=P(e),Je(e),0}catch(e){if(Z===void 0||e.name!==`ErrnoError`)throw e;return-e.Pa}},f:function(e,t){try{return e=P(e),ct(t,Xe(e))}catch(e){if(Z===void 0||e.name!==`ErrnoError`)throw e;return-e.Pa}},r:function(e,t,n){try{if(t=P(t),t=st(e,t),n)if(n===512)Je(t);else return-28;else Ye(t);return 0}catch(e){if(Z===void 0||e.name!==`ErrnoError`)throw e;return-e.Pa}},q:function(e,t,n){try{t=P(t),t=st(e,t,!0);var r=Date.now(),i,a;if(n){var o=S[n>>2]+4294967296*x[n+4>>2],s=x[n+8>>2];i=s==1073741823?r:s==1073741822?null:1e3*o+s/1e6,n+=16,o=S[n>>2]+4294967296*x[n+4>>2],s=x[n+8>>2],a=s==1073741823?r:s==1073741822?null:1e3*o+s/1e6}else a=i=r;if((a??i)!==null){e=i;var c=K(t,{gb:!0}).node;Le(c.La.Xa)(c,{$a:e,Ua:a})}return 0}catch(e){if(Z===void 0||e.name!==`ErrnoError`)throw e;return-e.Pa}},m:()=>w(``),l:()=>{le=!1,dt=0},A:function(e,t){e=-9007199254740992>e||9007199254740992<e?NaN:Number(e),e=new Date(1e3*e),x[t>>2]=e.getSeconds(),x[t+4>>2]=e.getMinutes(),x[t+8>>2]=e.getHours(),x[t+12>>2]=e.getDate(),x[t+16>>2]=e.getMonth(),x[t+20>>2]=e.getFullYear()-1900,x[t+24>>2]=e.getDay();var n=e.getFullYear();x[t+28>>2]=(n%4!=0||n%100==0&&n%400!=0?pt:ft)[e.getMonth()]+e.getDate()-1|0,x[t+36>>2]=-(60*e.getTimezoneOffset()),n=new Date(e.getFullYear(),6,1).getTimezoneOffset();var r=new Date(e.getFullYear(),0,1).getTimezoneOffset();x[t+32>>2]=(n!=r&&e.getTimezoneOffset()==Math.min(r,n))|0},y:function(e,t,n,r,i,a,o){i=-9007199254740992>i||9007199254740992<i?NaN:Number(i);try{var s=Y(r);if(t&2&&!(n&2)&&(s.flags&2097155)!=2||(s.flags&2097155)==1)throw new G(2);if(!s.Ma.rb)throw new G(43);if(!e)throw new G(28);var c=s.Ma.rb(s,e,i,t,n),l=c.dc;return x[a>>2]=c.Ob,S[o>>2]=l,0}catch(e){if(Z===void 0||e.name!==`ErrnoError`)throw e;return-e.Pa}},z:function(e,t,n,r,i,a){a=-9007199254740992>a||9007199254740992<a?NaN:Number(a);try{var o=Y(i);if(n&2){if((o.node.mode&61440)!=32768)throw new G(43);r&2||o.Ma.sb&&o.Ma.sb(o,y.slice(e,e+t),a,t,r)}}catch(e){if(Z===void 0||e.name!==`ErrnoError`)throw e;return-e.Pa}},n:(e,t)=>(mt[e]&&(clearTimeout(mt[e].id),delete mt[e]),t&&(mt[e]={id:setTimeout(()=>{delete mt[e],_t(()=>Mt(e,performance.now()))},t),sc:t}),0),B:(e,t,n,r)=>{var i=new Date().getFullYear(),a=new Date(i,0,1).getTimezoneOffset();i=new Date(i,6,1).getTimezoneOffset(),S[e>>2]=60*Math.max(a,i),x[t>>2]=Number(a!=i),t=e=>{var t=Math.abs(e);return`UTC${0<=e?`-`:`+`}${String(Math.floor(t/60)).padStart(2,`0`)}${String(t%60).padStart(2,`0`)}`},e=t(a),t=t(i),i<a?(B(e,y,n,17),B(t,y,r,17)):(B(e,y,r,17),B(t,y,n,17))},d:()=>Date.now(),s:()=>2147483648,c:()=>performance.now(),o:e=>{var t=y.length;if(e>>>=0,2147483648<e)return!1;for(var n=1;4>=n;n*=2){var r=t*(1+.2/n);r=Math.min(r,e+100663296);a:{r=(Math.min(2147483648,65536*Math.ceil(Math.max(e,r)/65536))-It.buffer.byteLength+65535)/65536|0;try{It.grow(r),re();var i=1;break a}catch{}i=void 0}if(i)return!0}return!1},E:(e,t)=>{var n=0,r=0,i;for(i of yt()){var a=t+n;S[e+r>>2]=a,n+=B(i,y,a,1/0)+1,r+=4}return 0},F:(e,t)=>{var n=yt();S[e>>2]=n.length,e=0;for(var r of n)e+=z(r)+1;return S[t>>2]=e,0},e:function(e){try{return tt(Y(e)),0}catch(e){if(Z===void 0||e.name!==`ErrnoError`)throw e;return e.Pa}},p:function(e,t){try{var n=Y(e);return v[t]=n.Va?2:J(n.mode)?3:(n.mode&61440)==40960?7:4,b[t+2>>1]=0,C[t+8>>3]=BigInt(0),C[t+16>>3]=BigInt(0),0}catch(e){if(Z===void 0||e.name!==`ErrnoError`)throw e;return e.Pa}},w:function(e,t,n,r){try{a:{var i=Y(e);e=t;for(var a,o=t=0;o<n;o++){var s=S[e>>2],c=S[e+4>>2];e+=8;var l=rt(i,v,s,c,a);if(0>l){var u=-1;break a}if(t+=l,l<c)break;a!==void 0&&(a+=l)}u=t}return S[r>>2]=u,0}catch(e){if(Z===void 0||e.name!==`ErrnoError`)throw e;return e.Pa}},D:function(e,t,n,r){t=-9007199254740992>t||9007199254740992<t?NaN:Number(t);try{if(isNaN(t))return 61;var i=Y(e);return nt(i,t,n),C[r>>3]=BigInt(i.position),i.Bb&&t===0&&n===0&&(i.Bb=null),0}catch(e){if(Z===void 0||e.name!==`ErrnoError`)throw e;return e.Pa}},I:function(e){try{var t=Y(e);return t.Ma?.kb?.(t)}catch(e){if(Z===void 0||e.name!==`ErrnoError`)throw e;return e.Pa}},t:function(e,t,n,r){try{a:{var i=Y(e);e=t;for(var a,o=t=0;o<n;o++){var s=S[e>>2],c=S[e+4>>2];e+=8;var l=it(i,v,s,c,a);if(0>l){var u=-1;break a}if(t+=l,l<c)break;a!==void 0&&(a+=l)}u=t}return S[r>>2]=u,0}catch(e){if(Z===void 0||e.name!==`ErrnoError`)throw e;return e.Pa}},k:gt};function Rt(){function e(){if(o.calledRun=!0,!_){if(!o.noFSInit&&!Te){var e,t;Te=!0,e??=o.stdin,t??=o.stdout,n??=o.stderr,e?ot(`stdin`,e):qe(`/dev/tty`,`/dev/stdin`),t?ot(`stdout`,null,t):qe(`/dev/tty`,`/dev/stdout`),n?ot(`stderr`,null,n):qe(`/dev/tty1`,`/dev/stderr`),et(`/dev/stdin`,0),et(`/dev/stdout`,1),et(`/dev/stderr`,1)}if(zt.N(),Ee=!1,o.onRuntimeInitialized?.(),o.postRun)for(typeof o.postRun==`function`&&(o.postRun=[o.postRun]);o.postRun.length;){var n=o.postRun.shift();D.push(n)}E(D)}}if(0<k)A=Rt;else{if(o.preRun)for(typeof o.preRun==`function`&&(o.preRun=[o.preRun]);o.preRun.length;)ce();E(O),0<k?A=Rt:o.setStatus?(o.setStatus(`Running...`),setTimeout(()=>{setTimeout(()=>o.setStatus(``),1),e()},1)):e()}}var zt;return(async function(){function e(e){return e=zt=e.exports,o._sqlite3_free=e.P,o._sqlite3_value_text=e.Q,o._sqlite3_prepare_v2=e.R,o._sqlite3_step=e.S,o._sqlite3_reset=e.T,o._sqlite3_exec=e.U,o._sqlite3_finalize=e.V,o._sqlite3_column_name=e.W,o._sqlite3_column_text=e.X,o._sqlite3_column_type=e.Y,o._sqlite3_errmsg=e.Z,o._sqlite3_clear_bindings=e._,o._sqlite3_value_blob=e.$,o._sqlite3_value_bytes=e.aa,o._sqlite3_value_double=e.ba,o._sqlite3_value_int=e.ca,o._sqlite3_value_type=e.da,o._sqlite3_result_blob=e.ea,o._sqlite3_result_double=e.fa,o._sqlite3_result_error=e.ga,o._sqlite3_result_int=e.ha,o._sqlite3_result_int64=e.ia,o._sqlite3_result_null=e.ja,o._sqlite3_result_text=e.ka,o._sqlite3_aggregate_context=e.la,o._sqlite3_column_count=e.ma,o._sqlite3_data_count=e.na,o._sqlite3_column_blob=e.oa,o._sqlite3_column_bytes=e.pa,o._sqlite3_column_double=e.qa,o._sqlite3_bind_blob=e.ra,o._sqlite3_bind_double=e.sa,o._sqlite3_bind_int=e.ta,o._sqlite3_bind_text=e.ua,o._sqlite3_bind_parameter_index=e.va,o._sqlite3_sql=e.wa,o._sqlite3_normalized_sql=e.xa,o._sqlite3_changes=e.ya,o._sqlite3_close_v2=e.za,o._sqlite3_create_function_v2=e.Aa,o._sqlite3_update_hook=e.Ba,o._sqlite3_open=e.Ca,kt=o._malloc=e.Da,At=o._free=e.Ea,o._RegisterExtensionFunctions=e.Fa,jt=e.Ga,Mt=e.Ha,Nt=e.Ia,Pt=e.Ja,Ft=e.Ka,It=e.M,$=e.O,re(),k--,o.monitorRunDependencies?.(k),k==0&&A&&(e=A,A=null,e()),zt}k++,o.monitorRunDependencies?.(k);var t={a:Lt};return o.instantiateWasm?new Promise(n=>{o.instantiateWasm(t,(t,r)=>{n(e(t,r))})}):(ie??=o.locateFile?o.locateFile(`sql-wasm-browser.wasm`,d):d+`sql-wasm-browser.wasm`,e((await se(t)).instance))})(),Rt(),i}),n)};typeof e==`object`&&typeof t==`object`?(t.exports=r,t.exports.default=r):typeof define==`function`&&define.amd?define([],function(){return r}):typeof e==`object`&&(e.Module=r)}))(),1),u=`/jitsuu/assets/sql-wasm-CbWyWKgW.wasm`;async function d(e){let t=await(0,l.default)({locateFile:()=>u}),n=await fetch(e);if(!n.ok)throw Error(`Failed to fetch database: ${n.status}`);let r=await n.arrayBuffer();return new t.Database(new Uint8Array(r))}function f(e){let t=e.prepare(`SELECT DISTINCT substr(jikei, 1, 2) AS jikei FROM jitsu_entries WHERE jikei != '' ORDER BY jikei`),n=new Set;for(;t.step();){let e=t.getAsObject();if(e.jikei){let t=e.jikei===`略体`?`国字`:e.jikei;n.add(t)}}t.free();let r=[`象形`,`指事`,`会意`,`形声`,`仮借`,`国字`],i=[];for(let e of r)n.has(e)&&(i.push(e),n.delete(e));let a=Array.from(n).sort();return[...i,...a]}function p(e,t,n){let r=ne(t);if(r.length===0&&n.length===0)return{keyword:[],jion:[],jikun:[]};let i=[`keyword`,`jion`,`jikun`],a={keyword:[],jion:[],jikun:[]},o=new Set;if(r.length===0)return a.keyword=g(e,n,200).sort(b(`keyword`,[])),a;for(let t of i){let i=S(e,t,r,n,200);for(let e of i){if(o.has(e.id))continue;let n=t;t===`keyword`&&e.gaiji_img_src&&m(e.keyword)&&(h(e.jion,r)?n=`jion`:h(e.jikun,r)&&(n=`jikun`)),o.add(e.id),a[n].push(e)}}return a.keyword.sort(b(`keyword`,r)),a.jion.sort(b(`jion`,r)),a.jikun.sort(b(`jikun`,r)),a}function m(e){return e.length>0&&!/[\u4E00-\u9FFF]/.test(e)}function h(e,t){if(!e)return!1;for(let n of t)if(n&&(e.startsWith(n)||e.includes(`・${n}`)))return!0;return!1}function g(e,t,n){if(t.length===0)return[];let r=[],i=`WHERE substr(jikei, 1, 2) IN (${t.map(()=>`?`).join(`,`)})`;r.push(...t);let a=`
    SELECT id, keyword, href, type, gaiji_img_src, jion, jikun, substr(jikei, 1, 2) AS jikei
    FROM jitsu_entries
    ${i}
    ORDER BY type = 'word', keyword
    LIMIT ${n}
  `,o=e.prepare(a);o.bind(r);let s=[];for(;o.step();){let e=o.getAsObject();s.push({id:Number(e.id??0),keyword:String(e.keyword??``),href:String(e.href??``),type:String(e.type??``),gaiji_img_src:String(e.gaiji_img_src??``),jion:String(e.jion??``),jikun:String(e.jikun??``),jikei:String(e.jikei??``)})}return o.free(),s}var _=new Intl.Collator(`ja`);function ee(e){return e.replace(/（[^）]*）/g,``).replace(/\([^)]*\)/g,``).trim()}function v(e){return e.split(`・`).map(e=>ee(e)).filter(e=>e.length>0)}function y(e,t){if(!e||t.length===0)return 1/0;let n=v(e);if(n.length===0)return 1/0;for(let e=0;e<n.length;e+=1){let r=n[e];for(let n of t)if(n&&r.startsWith(n))return e}return 1/0}function b(e,t){return(n,r)=>{let i=y(e===`jikun`?n.jikun:n.jion,t),a=y(e===`jikun`?r.jikun:r.jion,t);if(i!==a)return i-a;let o=y(e===`jikun`?n.jion:n.jikun,t),s=y(e===`jikun`?r.jion:r.jikun,t);if(o!==s)return o-s;let c=x(n.jion,r.jion);if(c!==0)return c;let l=x(n.jikun,r.jikun);return l===0?n.id-r.id:l}}function x(e,t){let n=!e,r=!t;return n&&r?0:n?1:r?-1:_.compare(e,t)}function S(e,t,n,r,i){let a=[],o=new Set;for(let e of n){let t=te(e);o.add(`${t}%`),o.add(`%・${t}%`)}let s=Array.from(o),c=s.map(()=>`${t} LIKE ? ESCAPE '\\'`).join(` OR `);a.push(...s);let l=``;r.length>0&&(l=` AND substr(jikei, 1, 2) IN (${r.map(()=>`?`).join(`,`)})`,a.push(...r));let u=`
    SELECT id, keyword, href, type, gaiji_img_src, jion, jikun, substr(jikei, 1, 2) AS jikei
    FROM jitsu_entries
    WHERE (${c})
    ${l}
    ORDER BY type = 'word', keyword
    LIMIT ${i}
  `,d=e.prepare(u);d.bind(a);let f=[];for(;d.step();){let e=d.getAsObject();f.push({id:Number(e.id??0),keyword:String(e.keyword??``),href:String(e.href??``),type:String(e.type??``),gaiji_img_src:String(e.gaiji_img_src??``),jion:String(e.jion??``),jikun:String(e.jikun??``),jikei:String(e.jikei??``)})}return d.free(),f}function te(e){return e.replace(/[\\%_]/g,e=>`\\${e}`)}function ne(e){let t=e.trim();if(!t)return[];let n=new Set;return n.add(t),n.add(re(t)),n.add(C(t)),Array.from(n).filter(e=>e.length>0)}function C(e){return e.replace(/[\u3041-\u3096]/g,e=>String.fromCharCode(e.charCodeAt(0)+96))}function re(e){return e.replace(/[\u30a1-\u30f6]/g,e=>String.fromCharCode(e.charCodeAt(0)-96))}var w=`#app`,ie=`/jitsuu/kotobank.sqlite`,ae=`https://kotobank.jp`,oe=document.querySelector(w);if(!oe)throw Error(`App container not found`);var se=oe;se.innerHTML=`
  <div class="app">
    <header class="hero">
      <h1 class="hero-title">字通検索</h1>
      <p class="hero-subtitle">字音・字訓・字形まで、ローカルで素早く検索。</p>
    </header>
    <section class="layout">
      <div class="sidebar">
        <div class="sidebar-main">
          <div class="search-field">
            <span class="search-label">検索</span>
            <input
              class="search-input"
              id="search-input"
              type="search"
              placeholder="例: 亜 / ア / あげまき"
              autocomplete="off"
            />
          </div>
          <div class="filters-panel">
            <div class="filters-header">
              <div class="filters-title">字形</div>
              <div class="filters-actions">
                <button
                  type="button"
                  class="filters-toggle"
                  id="toggle-filters"
                  aria-expanded="false"
                  aria-controls="filters-body"
                >
                  展開
                </button>
                <button type="button" class="filters-clear" id="clear-filters">解除</button>
              </div>
            </div>
            <div class="filters-body" id="filters-body">
              <div class="filter-list" id="jikei-filters"></div>
            </div>
          </div>
        </div>
        <footer class="legal" id="legal">
          <p>
            <a
              href="https://www.heibonsha.co.jp/book/b165244.html"
              target="_blank"
              rel="noopener noreferrer"
            >
              普及版 字通 © Shizuka Shirakawa / Heibonsha Limited.
            </a><br>
            <a href="https://kotobank.jp/dictionary/jitsu/" target="_blank" rel="noopener noreferrer">
              コトバンク © DIGITALIO, Inc.
            </a>
          </p>
          <p>
            本アプリは索引のみを提供します。本文は掲載していません。<br>
            クッキーや個人情報は利用・保存しません。
          </p>
        </footer>
      </div>
      <div class="content">
        <section class="status">
          <span id="status-text">データベース読込中…</span>
          <div class="status-nav" id="status-nav"></div>
        </section>
        <div class="content-scroll" id="content-scroll">
          <section class="results" id="results"></section>
        </div>
      </div>
    </section>
    <button type="button" class="scroll-top" id="scroll-top" aria-label="上へ">
      上へ
    </button>
  </div>
`;var T=W(`#search-input`),E=W(`#status-text`),D=W(`#status-nav`),O=W(`#results`),ce=W(`#jikei-filters`),k=W(`#clear-filters`),A=W(`#toggle-filters`),j=W(`#filters-body`),le=W(`#content-scroll`),M=W(`#scroll-top`),ue=W(`#legal`);T.disabled=!0;var N=null,P=[],F=new Set,de,fe=!1,I=!1,L=window;function pe(e){return e===window}function me(e){return pe(e)?e.scrollY:e.scrollTop}var R=()=>{let e=me(L);M.classList.toggle(`is-visible`,e>=300)};he();async function he(){try{N=await d(ie),P=f(N),ye(),we(),z(F.size>0||window.matchMedia(`(min-width: 900px)`).matches),T.disabled=!1,T.focus(),E.textContent=`準備完了`,xe(),requestAnimationFrame(()=>B()),`fonts`in document&&document.fonts.ready.then(()=>B()),ge(),T.addEventListener(`input`,()=>V()),k.addEventListener(`click`,()=>{F.clear(),we(),V()}),A.addEventListener(`click`,()=>z(!fe)),M.addEventListener(`click`,()=>{L===window?window.scrollTo({top:0,behavior:`smooth`}):L.scrollTo({top:0,behavior:`smooth`})}),M.classList.remove(`is-visible`),window.addEventListener(`resize`,()=>{B(),ge()}),window.addEventListener(`popstate`,()=>{ye(),we(),z(F.size>0||window.matchMedia(`(min-width: 900px)`).matches),xe()})}catch(e){console.error(e),E.textContent=`読込に失敗しました`}}function z(e){fe=e,j.hidden=!e,A.setAttribute(`aria-expanded`,String(e)),A.textContent=e?`折畳`:`展開`}function B(){let e=window.matchMedia(`(max-width: 899px)`).matches?Math.ceil(ue.getBoundingClientRect().height):0;document.documentElement.style.setProperty(`--legal-height`,`${e}px`)}function ge(){let e=window.matchMedia(`(min-width: 900px)`).matches?le:window;if(e===L){R();return}L===window?window.removeEventListener(`scroll`,R):L.removeEventListener(`scroll`,R),L=e,L===window?window.addEventListener(`scroll`,R):L.addEventListener(`scroll`,R),R()}function _e(){let e=new URLSearchParams(window.location.search);return{query:e.get(`q`)??``,filters:e.getAll(`k`)}}function ve(e,t){if(I)return;let n=new URL(window.location.href);e?n.searchParams.set(`q`,e):n.searchParams.delete(`q`),n.searchParams.delete(`k`);for(let e of t)n.searchParams.append(`k`,e);history.replaceState(null,``,n)}function ye(){I=!0;let{query:e,filters:t}=_e();T.value=e,F.clear();let n=new Set(P);for(let e of t){let t=e===`略体`?`国字`:e;n.has(t)&&F.add(t)}I=!1}function be(e){if(!e.includes(`国字`))return e;let t=new Set(e);return t.add(`略体`),Array.from(t)}function V(){N&&(de&&window.clearTimeout(de),de=window.setTimeout(()=>xe(),220))}function xe(){if(!N)return;let e=T.value.trim(),t=be(Array.from(F.values()));if(!e&&t.length===0){O.innerHTML=``,E.textContent=`検索語を入力`,D.innerHTML=``,ve(``,[]);return}let n=Se(e),r=N;if(!r)return;let i;if(i=n.length===0?p(r,``,t):n.length===1?p(r,n[0],t):H(n.map(e=>p(r,e,t))),i.keyword.length+i.jion.length+i.jikun.length===0){O.innerHTML=`<div class="empty-state">一致する結果がありません</div>`,E.textContent=`一致なし`,D.innerHTML=``,ve(e,t);return}E.textContent=e?`検索結果`:`形`,U(i),ve(e,t)}function Se(e){let t=e.trim();if(!t)return[];let n=Ce(t);return n.length<2?[t]:[t,...n]}function Ce(e){let t=new Set,n=[];for(let r of e)/[\u4E00-\u9FFF]/.test(r)&&!t.has(r)&&(t.add(r),n.push(r));return n}function H(e){let t={keyword:[],jion:[],jikun:[]},n=new Set;for(let r of e)for(let e of[`keyword`,`jion`,`jikun`])for(let i of r[e])n.has(i.id)||(n.add(i.id),t[e].push(i));return t}function we(){if(ce.innerHTML=``,P.length===0){ce.innerHTML=`<div class="empty-state">字形の候補がありません。</div>`;return}for(let[e,t]of P.entries()){let n=document.createElement(`label`);n.className=`filter-chip`;let r=document.createElement(`input`);r.type=`checkbox`,r.value=t,r.checked=F.has(t),r.id=`jikei-${e}`,r.addEventListener(`change`,()=>{r.checked?F.add(t):F.delete(t),V()});let i=document.createElement(`span`);i.textContent=t,n.appendChild(r),n.appendChild(i),ce.appendChild(n)}}function U(e){O.innerHTML=``,D.innerHTML=``;let t=document.createDocumentFragment(),n=[{key:`keyword`,label:`字`},{key:`jion`,label:`音`},{key:`jikun`,label:`訓`}],r=document.createElement(`div`);r.className=`result-nav`;let i=[],a=null,o=()=>{if(!a)return;let e=i.some(({list:e})=>e.hidden);a.textContent=e?`全て展開`:`全て折畳`};for(let a of n){let n=e[a.key];if(n.length===0)continue;let s=document.createElement(`section`);s.className=`result-group`,s.id=`group-${a.key}`;let c=document.createElement(`div`);c.className=`result-group-header`;let l=`group-${a.key}-list`,u=document.createElement(`button`);u.type=`button`,u.className=`result-group-toggle`,u.id=`group-${a.key}-toggle`,u.setAttribute(`aria-expanded`,`true`),u.setAttribute(`aria-controls`,l);let d=document.createElement(`span`);d.className=`result-group-label`,d.textContent=a.label;let f=document.createElement(`span`);f.className=`result-group-count`,f.textContent=`${n.length}件`,u.appendChild(d),u.appendChild(f);let p=document.createElement(`div`);p.className=`result-group-list`,p.id=l;for(let e of n)p.appendChild(Te(e));u.addEventListener(`click`,()=>{let e=!p.hidden;p.hidden=e,u.setAttribute(`aria-expanded`,String(!e)),o()}),i.push({toggle:u,list:p}),c.appendChild(u),s.appendChild(c),s.appendChild(p),t.appendChild(s);let m=document.createElement(`button`);m.type=`button`,m.className=`result-nav-button`,m.textContent=`${a.label} ${n.length}`,m.addEventListener(`click`,()=>{p.hidden=!1,u.setAttribute(`aria-expanded`,`true`),s.scrollIntoView({behavior:`smooth`,block:`start`})}),r.appendChild(m)}if(r.childElementCount>0){let t=n.reduce((t,n)=>t+e[n.key].length,0),s=document.createElement(`div`);s.className=`result-nav-total`,s.textContent=`計 ${t}`,a=document.createElement(`button`),a.type=`button`,a.className=`result-nav-button`,a.addEventListener(`click`,()=>{let e=i.some(({list:e})=>e.hidden);for(let{list:t,toggle:n}of i)t.hidden=!e,n.setAttribute(`aria-expanded`,String(e));o()}),r.appendChild(s),i.length>0&&(o(),r.appendChild(a)),D.appendChild(r)}O.appendChild(t)}function Te(e){let t=document.createElement(`a`);t.className=`result-card`,t.href=`${ae}${e.href}`,t.target=`_blank`,t.rel=`noopener noreferrer`;let n=document.createElement(`div`);n.className=`kanji-block`;let r=document.createElement(`div`);if(r.className=`kanji-glyph`,e.gaiji_img_src){let t=document.createElement(`img`);t.src=`${ae}${e.gaiji_img_src}`,t.alt=e.keyword,r.appendChild(t)}else r.textContent=e.keyword;let i=document.createElement(`div`);i.className=`kanji-badge`,i.textContent=e.jikei||`—`,n.appendChild(r),n.appendChild(i);let a=document.createElement(`div`);return a.className=`readings`,a.appendChild(Ee(`音`,e.jion)),a.appendChild(Ee(`訓`,e.jikun)),t.appendChild(n),t.appendChild(a),t}function Ee(e,t){let n=document.createElement(`div`);n.className=`reading-row`;let r=document.createElement(`div`);r.className=`reading-label`,r.textContent=e;let i=document.createElement(`div`);return i.className=`reading-value`,i.textContent=t||`—`,n.appendChild(r),n.appendChild(i),n}function W(e){let t=se.querySelector(e);if(!t)throw Error(`Missing element: ${e}`);return t}